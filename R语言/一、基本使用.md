R语言

### 一、基本使用

- 获取工作路径

```R
getwd()
```

- 修改工作路径

```R
setwd()
```

- 下载包

```R
install.packages(包名)
```

- 导入包

```R
library(包名)
```

- 创建变量

  ```R
  1. 直接赋值：
  x<- 
  
  2. 使用$ 创建：
  UG$GPA=UG$score/10-5
  
  3. 函数法：tramsform
  UG=tramsform(UG,GPA=score/10-5)
  ```

  

- 更新

```R
updata.packages(包名)
```

- 向量

```R
C()必须是同一类型
```

- 矩阵

```R
matrix(data = NA, nrow = 1, ncol = 1, byrow = FALSE,dimnames = NULL)

解释：
data = 数据(导入或者用c(),)
nrow = 行数, ncol = 列数,
byrow = FALSE（按行填充）,
dimnames = NULL（用一个向量来表示行列的名字）
```

- 数组

```R
array(data = NA, dim = length(data), dimnames = NULL)

解释：
data = 数据(导入或者用c(),)
dim = length(data)  数组的每一个维度的大小
dimnames = NULL（用一个向量来表示行列的名字）
```

- 数据框

```R
类似Excel表
data.frame(..., row.names = NULL, check.rows = FALSE,
           check.names = TRUE, fix.empty.names = TRUE,
           stringsAsFactors = FALSE)

...按其的名字作为列名字，值作为列的值
```

- 使用的一些方法：
  - 多行取值 	d[1:2]
  - 取特定列的值    d[c("A1","B1)]
  - 取某一列 用 \$符号         d $ A1

- 数据框绑定法解析数据框的所有变量

- 添加数据框的列到整个模块中（直接输入变量名就可以获得某一行的值）

  ```R
  添加：
  	attach(表格)
  删除：
  	dattach(表格)
  
  注意配合dattach使用
  ```

-  列举对象

  ```R
  ls()
  ```

- 删除对象

  ```R
  rm(对象)
  ```

- 查看类型

  ```R
  mode()
  ```

- 生成序列

  ```R
  x <- seq(1,10,2)
  x <- 1:100
  x <- rep(5,10)
  x < -rep(1:3,3)
  x<- rnorm(10)
  ```

- 方括号的一些用法

  ```R
  x[x>0 |x<-1]  --> 可以直接获取其中的符合条件的元素
  x[-5]   ----> 可以获取不包括"-"之后的位置的元素
  ```

- 显示数据集的大小

```R
dim(UG) 会显示该数据集的维度，每一行，每一列的数目
相当于nrow(UG)&& ncol(UG)
```

- 显示数据集的名称

```R
names(UG)
```

- 显示前后的特定几行

```R
head函数：

head(UG,3) 显示前面3行
head(UG,-3) 显示不包括后面3行


tail函数：
tail(UG,3) 显示(后3行)
tail(UG,-3) 显示不包括前3行
```

- 数据选取

  - 下标法

  ```R
  某一行的数据：
  UG[1,] 			选第1个的数据
  UG[1:6,]  		选1~6的数据
  UG[c(1,6,20)]	选1,6,20的数据
  
  某一列的数据：
  UG[,7]			第7列
  UG[,8]			第8列
  UG[,7:8]		第7~8列
  UG[,c(3,7,8)]	第3，7,8列
  ```

  - 记号法$ 根据属性来进行选择

  ```R
  UG[UG$sex='男'] 		选取性别为男的
  UG[UG$weight>80]	 选取体重大于80KG的
  ```

  - 子集法（优先考虑）

  ```R
  subset(UG,sex='男')
  subset(UG,sex='男'&weight>80)
  ```

- 剔除观测数据与变量

  ```R
  剔除功能大部分时候都和"-" 有关
  UG[-1,] 			剔除第一行的数据
  UG[c(-1,-6),]		剔除第1行和第6行的数据
  ```

- 修改变量名

  ```R
  names(UG)[3] <- "gender"  把第三列的名称修改成gender
  ```

- 变量类型变换

  as函数

  ```R
  UG.birth=as.Date(UG$birth)	将字符型转换成日期型
  		 as.integer()
  ```

- 重新编码cut

  ```R
  UG$income_c=cut(UG$income,breaks=c(0,5,50,max(UG$income)))
  
  第一个：是需要重新编码的数据集
  第二个：breaks：按照里面的数进行分割
  第三个：right：是否左开右闭（默认是）
  第四个：label：设置标签
  ```

- 排序 orider

  ```R
  默认升序：
  UG[order(UG$income),]
  
  多种排序 ：
  UG[order(UG$sex,UG$income),]
  ```

- 数据合并

  ```R
  merge :横向合并数据框（共同变量）
  cbind：横向合并数据框（相同行数）
  UG3=cbind(UG1,UG2)
  
  rbind：纵向合并数据框（相同列数）
  UG3=rbind(UG1,UG2)
  
  ```

- 缺失值NA

  ```
  是否是缺失值：
  is.na()
  
  排除缺失值：
  na.omit()
  ```

  



### 二、 列表

- 获取列表中的元素

```R
mylist [[1]]
```

- 把列表转换为向量

```R
unlist( mylist) 会自动把列表转化成向量，便于遍历
```

### 三、 输入

- 编辑

```R
类似Excel的编辑表格
edit
mydata <- edit(mydata)   --->把结果返回给data
```

- 导入文件

```R
read.table(文件路径，head=以第一行作为标题（TRUE），sep=以什么分隔成列)
```

### 四、函数

```R
函数名 <- function(传参=（可以设置缺省值）){
    函数体
    return (返回值)//或者以最后一句话作为返回体进行返回
}

（感觉有些类似于js 的函数）
```

### 五、绘图

- 修改绘图参数

  ```R
  par() (巨多参数，详细百度)
  ```

- 分组函数

  ```R
  by
  ```

  

